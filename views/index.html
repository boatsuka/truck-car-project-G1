<!DOCTYPE html>
<html>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <link
    rel="stylesheet"
    type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.1/css/bootstrap.min.css"
  />
  <link
    rel="stylesheet"
    type="text/css"
    href="https://cdn.datatables.net/v/bs5/dt-1.11.2/datatables.min.css"
  />

  <script
    type="text/javascript"
    charset="utf8"
    src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.2.min.js"
  ></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
  <script
    type="text/javascript"
    src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.1/js/bootstrap.bundle.min.js"
  ></script>
  <script
    type="text/javascript"
    src="https://cdn.datatables.net/v/bs5/dt-1.11.2/datatables.min.js"
  ></script>

  <script
    type="text/javascript"
    src="https://cdn.datatables.net/r/dt/dt-1.10.9/datatables.min.js"
  ></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-datatables/0.4.3/angular-datatables.min.js"></script>
  <title>dashboard ประวัติเข้า-ออก รถยนต์</title>
  <body>
    <div ng-app="myApp" ng-controller="ctrlGetData">
      <div class="container">
        <div class="row">
          <div class="col-6 col-md-4">
            <div class="card">
              <div class="card-body">
                <h5>จำนวนรถยนต์ทั้งหมด {{ data.length }} คัน</h5>
              </div>
            </div>
          </div>
          <div class="col-6 col-md-4">
            <div class="card">
              <div class="card-body">
                <h5>
                  จำนวนรถยนต์ขาเข้าทั้งหมด {{ (data | filter: { status: true
                  }).length }} คัน
                </h5>
              </div>
            </div>
          </div>
          <div class="col-6 col-md-4">
            <div class="card">
              <div class="card-body">
                <h5>
                  จำนวนรถยนต์ขาออกทั้งหมด {{ (data | filter: { status: false
                  }).length }} คัน
                </h5>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="container">
        <div class="row">
          <div class="col-6 card">
            <table class="table table-hover" datatable="ng" dt-options="vm.dtOptions" dt-instance="vm.dtInstance">
              <div class="row">
                <input class="col" type="month" ng-model="inTime" />
                <input
                  class="col"
                  type="text"
                  ng-model="carIn"
                  placeholder="โปรดป้อนเลขประจำรถยนต์"
                />
                <input
                  class="col"
                  type="text"
                  ng-model="menberIn"
                  placeholder="โปรดป้อนเลขประจำตัวพนักงาน"
                />
              </div>
              <thead>
                <tr>
                  <th>เลขประจำรถยนต์</th>
                  <th>เลขประจำตัวพนักงาน</th>
                  <th>เวลาเข้า</th>
                </tr>
              </thead>
              <tfoot>
                <tr>
                  <th>เลขประจำรถยนต์</th>
                  <th>เลขประจำตัวพนักงาน</th>
                  <th>เวลาเข้า</th>
                </tr>
              </tfoot>
              <tbody>
                <tr
                  ng-repeat="item in data | filter: {status: true}  | filter: {inbound: (inTime | date : 'y-MM')} | filter: {carId : carIn} | filter: {menberId : menberIn}"
                >
                  <td>{{ item.carId }}</td>
                  <td>{{ item.menberId }}</td>
                  <td>{{ item.inbound | date:'dd/MM/yyyy hh:mm' }}</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="col-6 card">
            <table class="table table-hover" datatable="ng" dt-options="vm.dtOptions" dt-instance="vm.dtInstance">
              <div class="row">
                <input class="col" type="month" ng-model="outTime" />
                <input
                  class="col"
                  type="text"
                  ng-model="carOut"
                  placeholder="โปรดป้อนเลขประจำรถยนต์"
                />
                <input
                  class="col"
                  type="text"
                  ng-model="menberOut"
                  placeholder="โปรดป้อนเลขประจำตัวพนักงาน"
                />
              </div>
              <thead>
                <tr>
                  <th>เลขประจำรถยนต์</th>
                  <th>เลขประจำตัวพนักงาน</th>
                  <th>เวลาออก</th>
                </tr>
              </thead>
              <tfoot>
                <tr>
                  <th>เลขประจำรถยนต์</th>
                  <th>เลขประจำตัวพนักงาน</th>
                  <th>เวลาออก</th>
                </tr>
              </tfoot>
              <tbody>
                <tr
                  ng-repeat="item in data | filter: {status: false} | filter: {outbound: (outTime | date : 'y-MM') } | filter: {carId : carOut} | filter: {menberId : menberOut}"
                >
                  <td>{{ item.carId }}</td>
                  <td>{{ item.menberId }}</td>
                  <td>{{ item.outbound | date:'dd/MM/yyyy hh:mm' }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="container">
        <div class="row">
          <div class="col" ng-controller="ctrlInbound">
            <button class="btn btn-primary" type="button" ng-click="Inbound()">
              สร้างบัตรจอดรถยนต์ขาเข้า
            </button>
          </div>
          <div class="col" ng-controller="ctrlOutbound">
            <button class="btn btn-warning" type="button" ng-click="Outbound()">
              สร้างบัตรจอดรถยนต์ขาออก
            </button>
          </div>
          <div class="col" ng-controller="ctrlClear">
            <button class="btn btn-danger" type="button" ng-click="Clear()">
              ล้างประวัติการค้นหา
            </button>
          </div>
        </div>
      </div>
    </div>
    <script src="js/app.controller.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
